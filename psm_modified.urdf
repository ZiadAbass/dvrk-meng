<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from psm_launch.urdf.xacro          | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="master" xmlns:xacro="http://www.ros.org/wiki/xacro">
  <link name="world"/>
  <!-- fixed joint 0 -->
  <joint name="psm_rev_joint" type="fixed">
    <parent link="world"/>
    <child link="psm_base_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <!-- link 0: psm base link -->
  <link name="psm_base_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <!-- origin rpy="0 0 0" xyz="0 -0.17016 -0.085607"/> -->
      <mass value="2.0161"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
    <!-- <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/base_link.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.89804 0.91765 0.92941 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/base_link.STL"/>
      </geometry>
    </collision> -->
  </link>
  <!-- link 1: psm yaw_link -->
  <link name="psm_yaw_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <!-- <origin rpy="0 0 0" xyz="-0.038769 0 0.041596"/> -->
      <mass value="1.4705"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
    <!-- <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/yaw_link.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.89804 0.91765 0.92941 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/yaw_link.STL"/>
      </geometry>
    </collision> -->
  </link>
  <!-- joint 1 psm yaw joint-->
  <joint name="psm_yaw_joint" type="revolute">
    <!-- <origin rpy="0 0 0" xyz="0 0 0"/> -->
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="psm_base_link"/>
    <child link="psm_yaw_link"/>
    <axis xyz="0 1 0"/>
    <limit effort="1000" lower="-1.605" upper="1.5994" velocity="10"/>
  </joint>
  <!-- link 2: outer_pitch_back -->
  <!-- <link name="psm_pitch_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.011651 -0.036241 0"/>
      <mass value="0.98494"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/pitch_back_link.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.89804 0.91765 0.92941 1"/>
      </material>1.86150" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/pitch_back_link.STL"/>
      </geometry>
    </collision>
  </link> -->
  <!-- link 3: outer_pitch_back -->
  <!-- <link name="psm_pitch_bottom_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0.25683 -0.010348 0"/>
      <mass value="0.44569"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/pitch_bottom_link.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.89804 0.91765 0.92941 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/pitch_bottom_link.STL"/>
      </geometry>
    </collision>
  </link> -->
  <!-- joint 3: pitch_bottom_joint -->
  <!-- <joint name="psm_pitch_bottom_joint" type="revolute">
    <origin rpy="0 0 1.8615" xyz="0.15 0 0"/>
    <parent link="psm_pitch_back_link"/>
    <child link="psm_pitch_bottom_link"/>
    <axis xyz="0 0 1"/>
    <limit effort="1000" lower="-0.94249" upper="0.93556" velocity="10"/>
    <mimic joint="psm_pitch_back_joint" multiplier="-1"/>
  </joint> -->
  <!-- link 4: pitch_end_link -->
  <link name="psm_pitch_end_link">
    <inertial>
      <!-- <origin rpy="1.5709 0 0" xyz="-0.4318 0 0"/> -->
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="2.091"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
    <visual>
      <!-- <origin rpy="-1.5709 0 1.5709" xyz="0 0 0"/> -->
      <origin rpy="-1.5709 0 1.5709" xyz="0 -0.043 0.1524"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/pitch_end_link.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.89804 0.91765 0.92941 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="-1.5709 0 1.5709" xyz="0 -0.043 0.1524"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/pitch_end_link.STL"/>
      </geometry>
    </collision>
  </link>
  <!-- joint 2: pitch_back_joint -->
  <joint name="psm_pitch_joint" type="revolute">
    <!-- <origin rpy="0 0 0" xyz="0 0 0"/> -->
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="psm_yaw_link"/>
    <child link="psm_pitch_end_link"/>
    <axis xyz="1 0 0"/>
    <limit effort="1000" lower="-0.93556" upper="0.94249" velocity="10"/>
  </joint>
  <!-- joint 4: pitch_end_joint -->
  <!-- <joint name="psm_pitch_end_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0.516 0 0"/>
    <parent link="psm_pitch_bottom_link"/>
    <child link="psm_pitch_end_link"/>
    <axis xyz="0 0 1"/>
    <limit effort="1000" lower="-0.93556" upper="0.94249" velocity="10"/>
    <mimic joint="psm_pitch_back_joint" multiplier="1"/>
  </joint> -->
    <!-- link 5: main_insertion_link -->
  <link name="psm_main_insertion_link">
    <inertial>
      <!--<origin rpy="0 0 0" xyz="0.0040563 -0.00010934 0.0098616"/>-->
      <origin rpy="0 0 0" xyz="0.4040563 -0.00010934 0.0098616"/>
      <mass value="0.22491"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
    <visual>
      <origin rpy="0 0 1.5708" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/main_insertion_link.STL"/>
      </geometry>
      <material name="">
        <color rgba="1 0.55686 0.058824 0.4"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 1.5708" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/main_insertion_link.STL"/>
      </geometry>
    </collision>
  </link>
  <!-- joint 5: main_insertion_joint -->
  <joint name="psm_main_insertion_joint" type="prismatic">
    <origin rpy="-3.1410 0 0" xyz="0 0 0.4318"/>
    <!-- Do not know what to put in the z offset -->
    <!-- <origin rpy="-3.1410 0 0" xyz="0 0.043 0.4162"/> -->
    <parent link="psm_pitch_end_link"/>
    <child link="psm_main_insertion_link"/>
    <axis xyz="0 0 1"/>
    <limit effort="1000" lower="0" upper="0.24" velocity="1"/>
  </joint> 
  <!-- link 6: tool_roll_link -->
  <link name="psm_tool_roll_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 -0.0058234"/>
      <mass value="0.00033225"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/tool_roll_link.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.79608 0.82353 0.93725 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/tool_roll_link.STL"/>
      </geometry>
    </collision>
  </link>
  <!-- joint 6: tool_roll_joint -->
  <joint name="psm_tool_roll_joint" type="revolute">
    <origin rpy="0 0 -1.5708" xyz="0 0 0.4162"/>
    <parent link="psm_main_insertion_link"/>
    <child link="psm_tool_roll_link"/>
    <axis xyz="0 0 1"/>
    <limit effort="1000" lower="-3.14159" upper="3.14159" velocity="10"/>
  </joint>
  <!-- link 7: tool_pitch_link -->
  <link name="psm_tool_pitch_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0.0035763 0 0"/>
      <mass value="0.00025784"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/tool_pitch_link.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.79608 0.82353 0.93725 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/tool_pitch_link.STL"/>
      </geometry>
    </collision>
  </link>
  <!-- joint 7: tool_pitch_joint -->
  <joint name="psm_tool_pitch_joint" type="revolute">
    <origin rpy="1.5708 -1.5708 3.1416" xyz="0 0 0"/>
    <parent link="psm_tool_roll_link"/>
    <child link="psm_tool_pitch_link"/>
    <axis xyz="0 0 1"/>
    <limit effort="1000" lower="-1.5708" upper="1.5708" velocity="10"/>
  </joint>
  <!-- link 8: tool_yaw_link -->
  <link name="psm_tool_yaw_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/tool_yaw_link.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.79608 0.82353 0.93725 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/tool_yaw_link.STL"/>
      </geometry>
    </collision>
  </link>
  <!-- joint 8: tool_yaw_joint -->
  <joint name="psm_tool_yaw_joint" type="revolute">
    <origin rpy="1.5708 -1.5708 3.1416" xyz="0.0091 0 0"/>
    <parent link="psm_tool_pitch_link"/>
    <child link="psm_tool_yaw_link"/>
    <axis xyz="0 0 1"/>
    <limit effort="1000" lower="-1.5708" upper="1.5708" velocity="10"/>
  </joint>
  <!-- link 9: tool_gripper1_link -->
  <link name="psm_tool_gripper1_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0.00019605 0.001435 -0.00088478"/>
      <mass value="0"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/tool_gripper1_link.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.79608 0.82353 0.93725 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/tool_gripper1_link.STL"/>
      </geometry>
    </collision>
  </link>
  <!-- joint 9: tool_gripper1_joint -->
  <joint name="psm_tool_gripper1_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="psm_tool_yaw_link"/>
    <child link="psm_tool_gripper1_link"/>
    <axis xyz="0 0 1"/>
    <mimic joint="psm_tool_gripper2_joint" multiplier="-1"/>
    <limit effort="0" lower="0" upper="1" velocity="0"/>
  </joint>
  <!-- link 10: tool_gripper2_link -->
  <link name="psm_tool_gripper2_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.00019605 0.001435 0.00088478"/>
      <mass value="0"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/tool_gripper2_link.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.79608 0.82353 0.93725 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/tool_gripper2_link.STL"/>
      </geometry>
    </collision>
  </link>
  <!-- joint 10: tool_gripper2_joint -->
  <joint name="psm_tool_gripper2_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="psm_tool_yaw_link"/>
    <child link="psm_tool_gripper2_link"/>
    <axis xyz="0 0 1"/>
    <!--<mimic joint="psm_tool_gripper1_joint" multiplier="-1"/> -->
    <limit effort="0" lower="0" upper="1" velocity="0"/>
  </joint>
  <!-- Sto aggiungendo un joint fisso che rappresenta la fine del gripper, alla fine mi serve quello penso non i due link. Sono incerto nell'origin, e diverso nel file di Anton -->
  <link name="psm_tool_tip_link"/>
  <!-- tool tip -->
  <joint name="tool_tip" type="fixed">
    <parent link="psm_tool_yaw_link"/>
    <child link="psm_tool_tip_link"/>
    <origin rpy="0 0 0" xyz="0 0.0102 0"/>
  </joint>   
  <!-- fine della modifica -->
  <!-- link 11: pitch_top_link -->
  <!-- <link name="psm_pitch_top_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0.31246 -0.00056566 0"/>
      <mass value="0.17841"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/pitch_top_link.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.89804 0.91765 0.92941 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/pitch_top_link.STL"/>
      </geometry>
    </collision>
  </link> -->
  <!-- joint 11: pitch_top_joint -->
  <!-- <joint name="psm_pitch_top_joint" type="revolute">
    <origin rpy="0 0 1.8615" xyz="0.18366 0.014121 0"/>
    <parent link="psm_pitch_back_link"/>
    <child link="psm_pitch_top_link"/>
    <axis xyz="0 0 1"/>
    <limit effort="1000" lower="-0.94249" upper="0.93556" velocity="10"/>
    <mimic joint="psm_pitch_back_joint" multiplier="-1"/>
  </joint> -->
  <!-- link 12: pitch_front_link -->
  <!-- <link name="psm_pitch_front_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0.096269 0 0.047551"/>
      <mass value="0.074425"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/pitch_front_link.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.89804 0.91765 0.92941 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dvrk_description/psm/meshes/pitch_front_link.STL"/>
      </geometry>
    </collision>
  </link> -->
  <!-- joint 12: pitch_front_joint -->
  <!-- <joint name="psm_pitch_front_joint" type="revolute">
    <origin rpy="-1.5708 -0.29073 0" xyz="0 0 -0.0664"/>
    <parent link="psm_yaw_link"/>
    <child link="psm_pitch_front_link"/>
    <axis xyz="0 0 1"/>
    <mimic joint="psm_pitch_back_joint" multiplier="1"/>
    <limit effort="1000" lower="-0.93556" upper="0.94249" velocity="10"/>
  </joint> -->
  <!-- Questo c'era gia, lo evidenzio perche voglio capirlo meglio, penso sia la definizione del RCM, del fulcro, non so se nel modo giusto o meno-->
  <!-- link 13: pitch_front_link -->
 <!-- <link name="psm_remote_center_link"/>-->
  <!-- joint 13: pitch_front_joint -->
   <!--<joint name="psm_remote_center_joint" type="fixed">
    <parent link="psm_base_link"/>
    <child link="psm_remote_center_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint> -->
  <!--xacro:tool_lnd prefix="" parent_link="main_insertion_link" xyz="0 0 0" rpy="0 0 0"/-->
</robot>

